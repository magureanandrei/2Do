<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/learning_test/Models/Task.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/learning_test/Models/Task.kt" />
              <option name="originalContent" value="package com.example.learning_test.Models&#10;&#10;import kotlinx.serialization.Serializable&#10;&#10;@Serializable&#10;data class Task(&#10;    val id: Int? = null, // Nullable because Supabase generates ID on creation&#10;    val content: String,&#10;    val is_complete: Boolean = false,&#10;    val topic: String = &quot;General&quot;&#10;)" />
              <option name="updatedContent" value="package com.example.learning_test.Models&#10;&#10;import kotlinx.serialization.Serializable&#10;&#10;@Serializable&#10;data class Task(&#10;    val id: Int? = null, // Nullable because Supabase generates ID on creation&#10;    val content: String,&#10;    val is_complete: Boolean = false,&#10;    val topic: String = &quot;General&quot;&#10;)" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/learning_test/SupabaseClient.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/learning_test/SupabaseClient.kt" />
              <option name="originalContent" value="package com.example.learning_test&#10;&#10;import io.github.jan.supabase.createSupabaseClient&#10;import io.github.jan.supabase.postgrest.Postgrest&#10;import io.github.jan.supabase.serializer.KotlinXSerializer&#10;import kotlinx.serialization.json.Json&#10;&#10;object SupabaseClient {&#10;    val client = createSupabaseClient(&#10;        supabaseUrl = &quot;https://cwtvssnytjzafufjqupn.supabase.co&quot;,&#10;        supabaseKey = &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN3dHZzc255dGp6YWZ1ZmpxdXBuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjE3MjQsImV4cCI6MjA3ODMzNzcyNH0.B6C3ofKh_Wi3c9TVCnWCmFi8I8gyn5rcBdAVE_UsBkU&quot;&#10;    ) {&#10;        install(Postgrest)&#10;        &#10;        defaultSerializer = KotlinXSerializer(Json {&#10;            ignoreUnknownKeys = true&#10;            isLenient = true&#10;        })&#10;    }&#10;}" />
              <option name="updatedContent" value="package com.example.learning_test&#10;&#10;import io.github.jan.supabase.createSupabaseClient&#10;import io.github.jan.supabase.postgrest.Postgrest&#10;import io.github.jan.supabase.serializer.KotlinXSerializer&#10;import kotlinx.serialization.json.Json&#10;&#10;object SupabaseClient {&#10;    val client = createSupabaseClient(&#10;        supabaseUrl = &quot;https://cwtvssnytjzafufjqupn.supabase.co&quot;,&#10;        supabaseKey = &quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN3dHZzc255dGp6YWZ1ZmpxdXBuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI3NjE3MjQsImV4cCI6MjA3ODMzNzcyNH0.B6C3ofKh_Wi3c9TVCnWCmFi8I8gyn5rcBdAVE_UsBkU&quot;&#10;    ) {&#10;        install(Postgrest)&#10;        &#10;        defaultSerializer = KotlinXSerializer(Json {&#10;            ignoreUnknownKeys = true&#10;            isLenient = true&#10;        })&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/learning_test/ui/TaskScreen.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/learning_test/ui/TaskScreen.kt" />
              <option name="originalContent" value="package com.example.learning_test.ui&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Add&#10;import androidx.compose.material.icons.filled.ArrowBack&#10;import androidx.compose.material.icons.filled.Delete&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.style.TextDecoration&#10;import androidx.compose.ui.unit.dp&#10;import com.example.learning_test.Models.Task&#10;import com.example.learning_test.viewmodel.TaskViewModel&#10;&#10;@Composable&#10;fun TaskScreen(&#10;    viewModel: TaskViewModel,&#10;    topic: String,&#10;    modifier: Modifier = Modifier,&#10;    onBackPressed: () -&gt; Unit = {}&#10;) {&#10;    val uiState by viewModel.state.collectAsState()&#10;    var newTaskText by remember { mutableStateOf(&quot;&quot;) }&#10;&#10;    // Load tasks for this topic when the screen is first displayed&#10;    LaunchedEffect(topic) {&#10;        viewModel.readTasks(topic)&#10;    }&#10;&#10;    Column(modifier = modifier.fillMaxSize().padding(16.dp)) {&#10;&#10;        // Back button and Topic Header&#10;        Row(&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            modifier = Modifier.padding(bottom = 16.dp)&#10;        ) {&#10;            IconButton(onClick = onBackPressed) {&#10;                Icon(&#10;                    Icons.Default.ArrowBack,&#10;                    contentDescription = &quot;Back&quot;,&#10;                    tint = MaterialTheme.colorScheme.primary&#10;                )&#10;            }&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Text(&#10;                text = topic,&#10;                style = MaterialTheme.typography.headlineSmall&#10;            )&#10;        }&#10;&#10;        // --- INPUT ROW (CREATE) ---&#10;        Row(verticalAlignment = Alignment.CenterVertically) {&#10;            OutlinedTextField(&#10;                value = newTaskText,&#10;                onValueChange = { newTaskText = it },&#10;                label = { Text(&quot;New Task&quot;) },&#10;                modifier = Modifier.weight(1f)&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Button(onClick = {&#10;                if (newTaskText.isNotBlank()) {&#10;                    viewModel.createTask(newTaskText, topic)&#10;                    newTaskText = &quot;&quot;&#10;                }&#10;            }) {&#10;                Icon(Icons.Default.Add, contentDescription = &quot;Add&quot;)&#10;            }&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(16.dp))&#10;&#10;        // --- LIST AREA (READ) ---&#10;        when (val currentState = uiState) {&#10;            is UiState.Loading -&gt; CircularProgressIndicator()&#10;            is UiState.Error -&gt; Text(&quot;Error: ${currentState.message}&quot;, color = Color.Red)&#10;            is UiState.Success -&gt; {&#10;                LazyColumn {&#10;                    items(currentState.tasks) { task -&gt;&#10;                        TaskItem(&#10;                            task = task,&#10;                            onToggle = { viewModel.updateTask(task) },&#10;                            onEdit = { newContent -&gt; viewModel.updateTaskContent(task.id!!, newContent, topic) },&#10;                            onDelete = { viewModel.deleteTask(task.id!!, topic) }&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun TaskItem(&#10;    task: Task,&#10;    onToggle: () -&gt; Unit,&#10;    onEdit: (String) -&gt; Unit,&#10;    onDelete: () -&gt; Unit&#10;) {&#10;    var showEditDialog by remember { mutableStateOf(false) }&#10;    var editText by remember { mutableStateOf(task.content) }&#10;&#10;    Card(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(vertical = 4.dp),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 2.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(8.dp),&#10;            verticalAlignment = Alignment.Top,&#10;            horizontalArrangement = Arrangement.SpaceBetween&#10;        ) {&#10;            // Left side: Checkbox and Text&#10;            Row(&#10;                modifier = Modifier.weight(1f),&#10;                verticalAlignment = Alignment.Top&#10;            ) {&#10;                Checkbox(&#10;                    checked = task.is_complete,&#10;                    onCheckedChange = { onToggle() },&#10;                    modifier = Modifier.padding(top = 4.dp)&#10;                )&#10;                Spacer(modifier = Modifier.width(8.dp))&#10;                Text(&#10;                    text = task.content,&#10;                    modifier = Modifier.padding(top = 12.dp),&#10;                    textDecoration = if (task.is_complete) TextDecoration.LineThrough else null,&#10;                    color = if (task.is_complete) Color.Gray else Color.Unspecified&#10;                )&#10;            }&#10;&#10;            // Right side: Action buttons&#10;            Row(&#10;                horizontalArrangement = Arrangement.End,&#10;                verticalAlignment = Alignment.Top&#10;            ) {&#10;                // Icon for Edit&#10;                IconButton(onClick = {&#10;                    editText = task.content&#10;                    showEditDialog = true&#10;                }) {&#10;                    Icon(Icons.Default.Edit, contentDescription = &quot;Edit&quot;, tint = Color.Blue)&#10;                }&#10;&#10;                // Icon for Delete&#10;                IconButton(onClick = onDelete) {&#10;                    Icon(Icons.Default.Delete, contentDescription = &quot;Delete&quot;, tint = Color.Red)&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    // Edit Dialog&#10;    if (showEditDialog) {&#10;        AlertDialog(&#10;            onDismissRequest = { showEditDialog = false },&#10;            title = { Text(&quot;Edit Task&quot;) },&#10;            text = {&#10;                OutlinedTextField(&#10;                    value = editText,&#10;                    onValueChange = { editText = it },&#10;                    label = { Text(&quot;Task Content&quot;) }&#10;                )&#10;            },&#10;            confirmButton = {&#10;                Button(onClick = {&#10;                    if (editText.isNotBlank()) {&#10;                        onEdit(editText)&#10;                        showEditDialog = false&#10;                    }&#10;                }) {&#10;                    Text(&quot;Save&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                Button(onClick = { showEditDialog = false }) {&#10;                    Text(&quot;Cancel&quot;)&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;" />
              <option name="updatedContent" value="package com.example.learning_test.ui&#10;&#10;import androidx.compose.foundation.layout.*&#10;import androidx.compose.foundation.lazy.LazyColumn&#10;import androidx.compose.foundation.lazy.items&#10;import androidx.compose.material.icons.Icons&#10;import androidx.compose.material.icons.filled.Add&#10;import androidx.compose.material.icons.filled.ArrowBack&#10;import androidx.compose.material.icons.filled.Delete&#10;import androidx.compose.material.icons.filled.Edit&#10;import androidx.compose.material3.*&#10;import androidx.compose.runtime.*&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.graphics.Color&#10;import androidx.compose.ui.text.style.TextDecoration&#10;import androidx.compose.ui.unit.dp&#10;import com.example.learning_test.Models.Task&#10;import com.example.learning_test.viewmodel.TaskViewModel&#10;&#10;@Composable&#10;fun TaskScreen(&#10;    viewModel: TaskViewModel,&#10;    topic: String,&#10;    modifier: Modifier = Modifier,&#10;    onBackPressed: () -&gt; Unit = {}&#10;) {&#10;    val uiState by viewModel.state.collectAsState()&#10;    var newTaskText by remember { mutableStateOf(&quot;&quot;) }&#10;&#10;    // Load tasks for this topic when the screen is first displayed&#10;    LaunchedEffect(topic) {&#10;        viewModel.readTasks(topic)&#10;    }&#10;&#10;    Column(modifier = modifier.fillMaxSize().padding(16.dp)) {&#10;&#10;        // Back button and Topic Header&#10;        Row(&#10;            verticalAlignment = Alignment.CenterVertically,&#10;            modifier = Modifier.padding(bottom = 16.dp)&#10;        ) {&#10;            IconButton(onClick = onBackPressed) {&#10;                Icon(&#10;                    Icons.Default.ArrowBack,&#10;                    contentDescription = &quot;Back&quot;,&#10;                    tint = MaterialTheme.colorScheme.primary&#10;                )&#10;            }&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Text(&#10;                text = topic,&#10;                style = MaterialTheme.typography.headlineSmall&#10;            )&#10;        }&#10;&#10;        // --- INPUT ROW (CREATE) ---&#10;        Row(verticalAlignment = Alignment.CenterVertically) {&#10;            OutlinedTextField(&#10;                value = newTaskText,&#10;                onValueChange = { newTaskText = it },&#10;                label = { Text(&quot;New Task&quot;) },&#10;                modifier = Modifier.weight(1f)&#10;            )&#10;            Spacer(modifier = Modifier.width(8.dp))&#10;            Button(onClick = {&#10;                if (newTaskText.isNotBlank()) {&#10;                    viewModel.createTask(newTaskText, topic)&#10;                    newTaskText = &quot;&quot;&#10;                }&#10;            }) {&#10;                Icon(Icons.Default.Add, contentDescription = &quot;Add&quot;)&#10;            }&#10;        }&#10;&#10;        Spacer(modifier = Modifier.height(16.dp))&#10;&#10;        // --- LIST AREA (READ) ---&#10;        when (val currentState = uiState) {&#10;            is UiState.Loading -&gt; CircularProgressIndicator()&#10;            is UiState.Error -&gt; Text(&quot;Error: ${currentState.message}&quot;, color = Color.Red)&#10;            is UiState.Success -&gt; {&#10;                LazyColumn {&#10;                    items(currentState.tasks) { task -&gt;&#10;                        TaskItem(&#10;                            task = task,&#10;                            onToggle = { viewModel.updateTask(task) },&#10;                            onEdit = { newContent -&gt; viewModel.updateTaskContent(task.id!!, newContent, topic) },&#10;                            onDelete = { viewModel.deleteTask(task.id!!, topic) }&#10;                        )&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;&#10;@Composable&#10;fun TaskItem(&#10;    task: Task,&#10;    onToggle: () -&gt; Unit,&#10;    onEdit: (String) -&gt; Unit,&#10;    onDelete: () -&gt; Unit&#10;) {&#10;    var showEditDialog by remember { mutableStateOf(false) }&#10;    var editText by remember { mutableStateOf(task.content) }&#10;&#10;    Card(&#10;        modifier = Modifier&#10;            .fillMaxWidth()&#10;            .padding(vertical = 4.dp),&#10;        elevation = CardDefaults.cardElevation(defaultElevation = 2.dp)&#10;    ) {&#10;        Row(&#10;            modifier = Modifier&#10;                .fillMaxWidth()&#10;                .padding(8.dp),&#10;            verticalAlignment = Alignment.Top,&#10;            horizontalArrangement = Arrangement.SpaceBetween&#10;        ) {&#10;            // Left side: Checkbox and Text&#10;            Row(&#10;                modifier = Modifier.weight(1f),&#10;                verticalAlignment = Alignment.Top&#10;            ) {&#10;                Checkbox(&#10;                    checked = task.is_complete,&#10;                    onCheckedChange = { onToggle() },&#10;                    modifier = Modifier.padding(top = 4.dp)&#10;                )&#10;                Spacer(modifier = Modifier.width(8.dp))&#10;                Text(&#10;                    text = task.content,&#10;                    modifier = Modifier.padding(top = 12.dp),&#10;                    textDecoration = if (task.is_complete) TextDecoration.LineThrough else null,&#10;                    color = if (task.is_complete) Color.Gray else Color.Unspecified&#10;                )&#10;            }&#10;&#10;            // Right side: Action buttons&#10;            Row(&#10;                horizontalArrangement = Arrangement.End,&#10;                verticalAlignment = Alignment.Top&#10;            ) {&#10;                // Icon for Edit&#10;                IconButton(onClick = {&#10;                    editText = task.content&#10;                    showEditDialog = true&#10;                }) {&#10;                    Icon(Icons.Default.Edit, contentDescription = &quot;Edit&quot;, tint = Color.Blue)&#10;                }&#10;&#10;                // Icon for Delete&#10;                IconButton(onClick = onDelete) {&#10;                    Icon(Icons.Default.Delete, contentDescription = &quot;Delete&quot;, tint = Color.Red)&#10;                }&#10;            }&#10;        }&#10;    }&#10;&#10;    // Edit Dialog&#10;    if (showEditDialog) {&#10;        AlertDialog(&#10;            onDismissRequest = { showEditDialog = false },&#10;            title = { Text(&quot;Edit Task&quot;) },&#10;            text = {&#10;                OutlinedTextField(&#10;                    value = editText,&#10;                    onValueChange = { editText = it },&#10;                    label = { Text(&quot;Task Content&quot;) }&#10;                )&#10;            },&#10;            confirmButton = {&#10;                Button(onClick = {&#10;                    if (editText.isNotBlank()) {&#10;                        onEdit(editText)&#10;                        showEditDialog = false&#10;                    }&#10;                }) {&#10;                    Text(&quot;Save&quot;)&#10;                }&#10;            },&#10;            dismissButton = {&#10;                Button(onClick = { showEditDialog = false }) {&#10;                    Text(&quot;Cancel&quot;)&#10;                }&#10;            }&#10;        )&#10;    }&#10;}&#10;&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/example/learning_test/ui/UiState.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/example/learning_test/ui/UiState.kt" />
              <option name="originalContent" value="package com.example.learning_test.ui&#10;&#10;import com.example.learning_test.Models.Task&#10;&#10;sealed class UiState {&#10;    object Loading : UiState()&#10;    data class Success(val tasks: List&lt;Task&gt;) : UiState()&#10;    data class Error(val message: String) : UiState()&#10;}&#10;" />
              <option name="updatedContent" value="package com.example.learning_test.ui&#10;&#10;import com.example.learning_test.Models.Task&#10;&#10;sealed class UiState {&#10;    object Loading : UiState()&#10;    data class Success(val tasks: List&lt;Task&gt;) : UiState()&#10;    data class Error(val message: String) : UiState()&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>